<div class="cinema-admin-container">
  <!-- Cinema Header -->
  <header class="cinema-header">
    <div class="glass-overlay"></div>
    <div class="header-left">
      <div class="cinema-logo">
        <div class="logo-icon">üé¨</div>
        <div class="logo-text">
          <h1>Cinema Pro</h1>
          <span>B·∫£ng ƒëi·ªÅu khi·ªÉn qu·∫£n l√Ω r·∫°p chi·∫øu phim</span>
        </div>
      </div>
    </div>
    <div class="header-right">
      <div class="cinema-stats">
        <div class="stat-item">
          <span class="stat-number">{{ stats.totalMovies }}</span>
          <span class="stat-label">Phim</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">{{ stats.totalBookings }}</span>
          <span class="stat-label">ƒê·∫∑t v√©</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">{{ formatCurrency(stats.totalRevenue) }}</span>
          <span class="stat-label">Doanh thu</span>
        </div>
      </div>
      <div class="header-actions">
        <button class="action-btn refresh" (click)="loadDashboardData()" title="L√†m m·ªõi">
          <i class="fas fa-sync-alt"></i>
        </button>
        <button class="action-btn primary" (click)="navigateToMovieManagement()" title="Qu·∫£n l√Ω phim">
          <i class="fas fa-film"></i>
          <span>Qu·∫£n l√Ω phim</span>
        </button>
        <button class="action-btn logout" (click)="logout()" title="ƒêƒÉng xu·∫•t">
          <i class="fas fa-sign-out-alt"></i>
          <span>ƒêƒÉng xu·∫•t</span>
        </button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Dashboard Stats -->
    <section class="dashboard-stats-section">
      <div class="section-header">
        <h2>Th·ªëng k√™ t·ªïng quan</h2>
        <p>D·ªØ li·ªáu t·ªïng h·ª£p v·ªÅ ho·∫°t ƒë·ªông r·∫°p chi·∫øu phim</p>
      </div>
      <div class="stats-grid">
        <div class="stat-card primary">
          <div class="card-glow"></div>
          <div class="card-icon">
            <i class="fas fa-film"></i>
          </div>
          <div class="card-content">
            <h3>{{ stats.totalMovies }}</h3>
            <p>T·ªïng s·ªë phim</p>
            <div class="trend positive">
              <i class="fas fa-arrow-up"></i>
              <span>+3 phim m·ªõi</span>
            </div>
          </div>
        </div>
        <div class="stat-card secondary">
          <div class="card-glow"></div>
          <div class="card-icon">
            <i class="fas fa-ticket-alt"></i>
          </div>
          <div class="card-content">
            <h3>{{ stats.totalBookings }}</h3>
            <p>ƒê·∫∑t v√© h√¥m nay</p>
            <div class="trend positive">
              <i class="fas fa-arrow-up"></i>
              <span>+12.5%</span>
            </div>
          </div>
        </div>
        <div class="stat-card accent">
          <div class="card-glow"></div>
          <div class="card-icon">
            <i class="fas fa-dollar-sign"></i>
          </div>
          <div class="card-content">
            <h3>{{ formatCurrency(stats.totalRevenue) }}</h3>
            <p>Doanh thu th√°ng</p>
            <div class="trend positive">
              <i class="fas fa-arrow-up"></i>
              <span>+18.3%</span>
            </div>
          </div>
        </div>
        <div class="stat-card success">
          <div class="card-glow"></div>
          <div class="card-icon">
            <i class="fas fa-users"></i>
          </div>
          <div class="card-content">
            <h3>{{ stats.activeUsers }}</h3>
            <p>Ng∆∞·ªùi d√πng ho·∫°t ƒë·ªông</p>
            <div class="trend positive">
              <i class="fas fa-arrow-up"></i>
              <span>+8.7%</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Quick Actions -->
    <section class="quick-actions-section">
      <div class="section-header">
        <h2>Thao t√°c nhanh</h2>
        <p>Qu·∫£n l√Ω c√°c ch·ª©c nƒÉng ch√≠nh c·ªßa h·ªá th·ªëng</p>
      </div>
      <div class="actions-grid">
        <button class="action-card" (click)="navigateToMovieManagement()">
          <div class="action-icon">
            <i class="fas fa-film"></i>
          </div>
          <div class="action-content">
            <h3>Qu·∫£n l√Ω phim</h3>
            <p>Th√™m, ch·ªânh s·ª≠a v√† qu·∫£n l√Ω danh s√°ch phim</p>
          </div>
          <div class="action-arrow">
            <i class="fas fa-arrow-right"></i>
          </div>
        </button>
        <button class="action-card" (click)="navigateToBookingManagement()">
          <div class="action-icon">
            <i class="fas fa-ticket-alt"></i>
          </div>
          <div class="action-content">
            <h3>Qu·∫£n l√Ω ƒë·∫∑t v√©</h3>
            <p>Theo d√µi v√† qu·∫£n l√Ω c√°c ƒë∆°n ƒë·∫∑t v√©</p>
          </div>
          <div class="action-arrow">
            <i class="fas fa-arrow-right"></i>
          </div>
        </button>
        <button class="action-card" (click)="navigateToUserManagement()">
          <div class="action-icon">
            <i class="fas fa-users"></i>
          </div>
          <div class="action-content">
            <h3>Qu·∫£n l√Ω ng∆∞·ªùi d√πng</h3>
            <p>Qu·∫£n l√Ω t√†i kho·∫£n v√† quy·ªÅn h·∫°n ng∆∞·ªùi d√πng</p>
          </div>
          <div class="action-arrow">
            <i class="fas fa-arrow-right"></i>
          </div>
        </button>
        <button class="action-card">
          <div class="action-icon">
            <i class="fas fa-chart-bar"></i>
          </div>
          <div class="action-content">
            <h3>B√°o c√°o chi ti·∫øt</h3>
            <p>Xem b√°o c√°o doanh thu v√† th·ªëng k√™ chi ti·∫øt</p>
          </div>
          <div class="action-arrow">
            <i class="fas fa-arrow-right"></i>
          </div>
        </button>
      </div>
    </section>

    <!-- Content Grid -->
    <section class="content-grid-section">
      <div class="content-grid">
        <!-- Current Movies -->
        <div class="content-card">
          <div class="card-header">
            <h3><i class="fas fa-play-circle"></i> Phim ƒëang chi·∫øu</h3>
            <button class="view-all-btn" (click)="navigateToMovieManagement()">
              Xem t·∫•t c·∫£ <i class="fas fa-arrow-right"></i>
            </button>
          </div>
          <div class="movies-list">
            <div class="movie-item" *ngFor="let movie of currentMovies">
              <div class="movie-poster">
                <img [src]="movie.poster" [alt]="movie.title">
              </div>
              <div class="movie-details">
                <h4>{{ movie.title }}</h4>
                <div class="movie-meta">
                  <span class="status-badge active">
                    <i class="fas fa-play"></i>
                    {{ movie.status }}
                  </span>
                  <span class="bookings-count">
                    <i class="fas fa-ticket-alt"></i>
                    {{ movie.bookings }} ƒë·∫∑t v√©
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Recent Bookings -->
        <div class="content-card">
          <div class="card-header">
            <h3><i class="fas fa-clock"></i> ƒê·∫∑t v√© g·∫ßn ƒë√¢y</h3>
            <button class="view-all-btn" (click)="navigateToBookingManagement()">
              Xem t·∫•t c·∫£ <i class="fas fa-arrow-right"></i>
            </button>
          </div>
          <div class="bookings-list">
            <div class="booking-item" *ngFor="let booking of recentBookings">
              <div class="booking-info">
                <h4>{{ booking.customer }}</h4>
                <p class="booking-movie">{{ booking.movie }}</p>
                <p class="booking-seats">{{ booking.seats }}</p>
                <span class="booking-time">{{ booking.time }}</span>
              </div>
              <div class="booking-amount">
                {{ formatCurrency(booking.amount) }}
              </div>
            </div>
          </div>
        </div>

        <!-- Top Movies Performance -->
        <div class="content-card">
          <div class="card-header">
            <h3><i class="fas fa-trophy"></i> Phim xu·∫•t s·∫Øc nh·∫•t</h3>
            <button class="view-all-btn">
              Xem t·∫•t c·∫£ <i class="fas fa-arrow-right"></i>
            </button>
          </div>
          <div class="performance-list">
            <div class="performance-item" *ngFor="let movie of chartData.moviePerformance; let i = index">
              <div class="rank-badge" [ngClass]="getRankClass(i)">
                {{ i + 1 }}
              </div>
              <div class="movie-details">
                <h4>{{ movie.name }}</h4>
                <div class="movie-stats">
                  <span class="bookings-stat">
                    <i class="fas fa-ticket-alt"></i>
                    {{ movie.bookings }} ƒë·∫∑t v√©
                  </span>
                </div>
              </div>
              <div class="movie-revenue">
                {{ formatCurrency(movie.revenue * 1000) }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Revenue Chart -->
    <section class="chart-section">
      <div class="section-header">
        <h2>Bi·ªÉu ƒë·ªì doanh thu tu·∫ßn</h2>
        <p>Th·ªëng k√™ doanh thu theo t·ª´ng ng√†y trong tu·∫ßn</p>
      </div>
      <div class="chart-container">
        <div class="chart-bars">
          <div class="chart-bar" *ngFor="let revenue of chartData.dailyRevenue; let i = index" 
               [style.height]="(revenue / 30000 * 200) + 'px'">
            <span class="bar-value">{{ formatCurrency(revenue) }}</span>
            <span class="bar-label">{{ ['T2', 'T3', 'T4', 'T5', 'T6', 'T7', 'CN'][i] }}</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Loading Overlay -->
  <div class="loading-overlay" *ngIf="loading">
    <div class="loading-modal">
      <div class="loading-spinner">
        <div class="spinner-ring"></div>
        <div class="spinner-core"></div>
      </div>
      <div class="loading-content">
        <h3>ƒêang t·∫£i d·ªØ li·ªáu</h3>
        <p>Vui l√≤ng ch·ªù trong khi ch√∫ng t√¥i l·∫•y th√¥ng tin m·ªõi nh·∫•t...</p>
      </div>
    </div>
  </div>
</div>
