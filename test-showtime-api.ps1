# Script ƒë·ªÉ test showtime API
Write-Host "üîç Testing showtime API..." -ForegroundColor Yellow

# Test 1: L·∫•y t·∫•t c·∫£ showtimes (kh√¥ng c·∫ßn auth)
Write-Host "`nüîç Test 1: Getting all showtimes..." -ForegroundColor Blue
try {
    $showtimesResponse = Invoke-RestMethod -Uri "http://localhost:8080/api/showtime" -Method GET
    Write-Host "‚úÖ All showtimes:" -ForegroundColor Green
    Write-Host ($showtimesResponse | ConvertTo-Json -Depth 3) -ForegroundColor White
} catch {
    Write-Host "‚ùå Failed to get showtimes: $($_.Exception.Message)" -ForegroundColor Red
}

# Test 2: L·∫•y showtime ID 6 c·ª• th·ªÉ
Write-Host "`nüîç Test 2: Getting showtime ID 6..." -ForegroundColor Blue
try {
    $showtimeResponse = Invoke-RestMethod -Uri "http://localhost:8080/api/showtime/6" -Method GET
    Write-Host "‚úÖ Showtime 6:" -ForegroundColor Green
    Write-Host ($showtimeResponse | ConvertTo-Json -Depth 3) -ForegroundColor White
} catch {
    Write-Host "‚ùå Showtime 6 not found: $($_.Exception.Message)" -ForegroundColor Red
}

# Test 3: L·∫•y showtimes theo movie ID 7
Write-Host "`nüîç Test 3: Getting showtimes for movie ID 7..." -ForegroundColor Blue
try {
    $movieShowtimesResponse = Invoke-RestMethod -Uri "http://localhost:8080/api/showtime/movie/7" -Method GET
    Write-Host "‚úÖ Showtimes for movie 7:" -ForegroundColor Green
    Write-Host ($movieShowtimesResponse | ConvertTo-Json -Depth 3) -ForegroundColor White
} catch {
    Write-Host "‚ùå Failed to get movie showtimes: $($_.Exception.Message)" -ForegroundColor Red
}

# Test 4: L·∫•y showtimes theo room ID 1
Write-Host "`nüîç Test 4: Getting showtimes for room ID 1..." -ForegroundColor Blue
try {
    $roomShowtimesResponse = Invoke-RestMethod -Uri "http://localhost:8080/api/showtime/room/1" -Method GET
    Write-Host "‚úÖ Showtimes for room 1:" -ForegroundColor Green
    Write-Host ($roomShowtimesResponse | ConvertTo-Json -Depth 3) -ForegroundColor White
} catch {
    Write-Host "‚ùå Failed to get room showtimes: $($_.Exception.Message)" -ForegroundColor Red
}

Write-Host "`nüèÅ Showtime API test completed" -ForegroundColor Green