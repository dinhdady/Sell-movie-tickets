# Script test API qu·∫£n l√Ω ƒë·∫∑t v√©
Write-Host "üß™ Testing Admin Bookings API..." -ForegroundColor Green

# Test 1: Ki·ªÉm tra endpoint c√≥ t·ªìn t·∫°i kh√¥ng
Write-Host "`n1. Testing endpoint availability..." -ForegroundColor Yellow
try {
    $response = Invoke-RestMethod -Uri "http://localhost:8080/api/admin/bookings" -Method GET -Headers @{"Authorization" = "Bearer test-token"}
    Write-Host "‚úÖ Endpoint accessible" -ForegroundColor Green
} catch {
    Write-Host "‚ùå Endpoint error: $($_.Exception.Message)" -ForegroundColor Red
}

# Test 2: Ki·ªÉm tra response structure
Write-Host "`n2. Testing response structure..." -ForegroundColor Yellow
try {
    $response = Invoke-RestMethod -Uri "http://localhost:8080/api/admin/bookings" -Method GET -Headers @{"Authorization" = "Bearer test-token"}
    Write-Host "Response status: $($response.status)" -ForegroundColor Cyan
    Write-Host "Response message: $($response.message)" -ForegroundColor Cyan
    Write-Host "Response data type: $($response.object.GetType().Name)" -ForegroundColor Cyan
    if ($response.object -is [array]) {
        Write-Host "Response array length: $($response.object.Length)" -ForegroundColor Cyan
    }
} catch {
    Write-Host "‚ùå Structure test error: $($_.Exception.Message)" -ForegroundColor Red
}

Write-Host "`nüéØ Test completed!" -ForegroundColor Green
